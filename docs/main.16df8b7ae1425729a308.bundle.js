(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(module,__webpack_exports__,__webpack_require__){"use strict";var toConsumableArray=__webpack_require__(27),slicedToArray=__webpack_require__(65),react=__webpack_require__(0),AddIcon=__webpack_require__(273),AddIcon_default=__webpack_require__.n(AddIcon),getStyle=function getStyle(isDisabled){return{width:"1.5em",height:"1.5em",paddingTop:5,cursor:isDisabled?"default":"pointer",opacity:isDisabled?.5:1}},buttons_ClickableIcon=function ClickableIcon(_ref){var icon=_ref.icon,isDisabled=_ref.isDisabled,onClick=_ref.onClick;return react.createElement("img",{src:icon,onClick:isDisabled?void 0:onClick,style:getStyle(isDisabled)})},buttons_AddButton=function AddButton(_ref){var isDisabled=_ref.isDisabled,onClick=_ref.onClick;return react.createElement(buttons_ClickableIcon,{icon:AddIcon_default.a,isDisabled:isDisabled,onClick:onClick})},styles={container:{display:"flex",alignItems:"center",paddingRight:40},addButton:{marginRight:5},textInput:{flexGrow:1}},src_AddNewTaskLayout=function AddNewTaskLayout(_ref){var addButton=_ref.addButton,textInput=_ref.textInput;return react.createElement("div",{style:styles.container},react.createElement("div",{style:styles.addButton},addButton),react.createElement("div",{style:styles.textInput},textInput))},TextField=__webpack_require__(620),src_TextInput=function TextInput(_ref){var onChange=_ref.onChange,onEnter=_ref.onEnter,onEscape=_ref.onEscape,placeholder=_ref.placeholder,text=_ref.text,handleChange=react.useCallback(function(e){onChange(e.target.value)},[onChange]);return react.createElement(TextField.a,{value:text,placeholder:placeholder,onChange:handleChange,onKeyUp:function handleKeyUp(ev){switch(ev.key){case"Enter":ev.preventDefault(),onEnter&&onEnter();break;case"Escape":ev.preventDefault(),onEscape&&onEscape()}},fullWidth:!0})},getNewId=function getNewId(){return(new Date).getTime().toString(36)},src_AddNewTask=function AddNewTask(_ref){var onAdd=_ref.onAdd,_React$useState=react.useState(""),_React$useState2=Object(slicedToArray.a)(_React$useState,2),text=_React$useState2[0],setText=_React$useState2[1],handleChangeText=react.useCallback(function(newText){return setText(newText)},[setText]),handleEscape=react.useCallback(function(){return setText("")},[setText]),handleAdd=react.useCallback(function(){setText(""),onAdd({id:getNewId(),text:text})},[onAdd,text]);return react.createElement(src_AddNewTaskLayout,{textInput:react.createElement(src_TextInput,{text:text,placeholder:"Press Enter to add, and Escape to drop changes",onChange:handleChangeText,onEnter:handleAdd,onEscape:handleEscape}),addButton:react.createElement(buttons_AddButton,{onClick:handleAdd,isDisabled:0===text.length})})},defineProperty=__webpack_require__(32),DeleteIcon=__webpack_require__(271),DeleteIcon_default=__webpack_require__.n(DeleteIcon),buttons_DeleteButton=function DeleteButton(_ref){var isDisabled=_ref.isDisabled,onClick=_ref.onClick;return react.createElement(buttons_ClickableIcon,{icon:DeleteIcon_default.a,isDisabled:isDisabled,onClick:onClick})},EditableTaskLayout_styles={container:{display:"flex",alignItems:"center"},deleteButton:{marginRight:5},saveButton:{marginLeft:10},textInput:{flexGrow:1}},src_EditableTaskLayout=function EditableTaskLayout(_ref){var deleteButton=_ref.deleteButton,saveButton=_ref.saveButton,textInput=_ref.textInput;return react.createElement("div",{style:EditableTaskLayout_styles.container},react.createElement("div",{style:EditableTaskLayout_styles.deleteButton},deleteButton),react.createElement("div",{style:EditableTaskLayout_styles.textInput},textInput),react.createElement("div",{style:EditableTaskLayout_styles.saveButton},saveButton))},SaveIcon=__webpack_require__(272),SaveIcon_default=__webpack_require__.n(SaveIcon),buttons_SaveButton=function SaveButton(_ref){var isDisabled=_ref.isDisabled,onClick=_ref.onClick;return react.createElement(buttons_ClickableIcon,{icon:SaveIcon_default.a,isDisabled:isDisabled,onClick:onClick})};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}var src_EditableTask=function EditableTask(_ref){var item=_ref.item,onChange=_ref.onChange,onDelete=_ref.onDelete,_React$useState=react.useState(item.text),_React$useState2=Object(slicedToArray.a)(_React$useState,2),text=_React$useState2[0],setText=_React$useState2[1],handleChangeText=react.useCallback(function(newText){return setText(newText)},[setText]),handleEscape=react.useCallback(function(){return setText(item.text)},[item.text,setText]),handleDelete=react.useCallback(function(){return onDelete(item)},[item,onDelete]),handleSave=react.useCallback(function(){return onChange(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}({},item,{text:text}))},[item,onChange,text]);return react.createElement(src_EditableTaskLayout,{deleteButton:react.createElement(buttons_DeleteButton,{onClick:handleDelete,isDisabled:!1}),saveButton:react.createElement(buttons_SaveButton,{onClick:handleSave,isDisabled:0===text.length||text===item.text}),textInput:react.createElement(src_TextInput,{text:text,placeholder:item.text,onChange:handleChangeText,onEnter:handleSave,onEscape:handleEscape})})},lib=__webpack_require__(274),lib_default=__webpack_require__.n(lib),getOnlyTasks=function getOnlyTasks(items){return items.filter(isNotUndefined)},isNotUndefined=function isNotUndefined(item){return void 0!==item},getItemStyle=function getItemStyle(isDragging){return{padding:4,margin:"0 0 ".concat(2,"px 0"),background:isDragging?"#ffff00":"transparent",color:isDragging?"#cccccc":"#000000"}},getListStyle=function getListStyle(isDraggingOver){return{background:isDraggingOver?"#cccc00":"transparent",padding:2}};__webpack_exports__.a=function EditableDndList(_ref){var defaultItems=_ref.items,onChange=_ref.onChange,_React$useState=react.useState([void 0]),_React$useState2=Object(slicedToArray.a)(_React$useState,2),items=_React$useState2[0],setItems=_React$useState2[1];react.useEffect(function(){setItems([].concat(Object(toConsumableArray.a)(getOnlyTasks(defaultItems||[])),[void 0]))},[defaultItems,setItems]);var handleChangeTask=function handleChangeTask(newItem){var newItems=items.map(function(oldItem){return oldItem&&oldItem.id===newItem.id?newItem:oldItem});setItems(newItems),onChange(getOnlyTasks(newItems))},handleDeleteTask=function handleDeleteTask(delItem){var newItems=items.filter(function(oldItem){return void 0===oldItem||oldItem.id!==delItem.id});setItems(newItems),onChange(getOnlyTasks(newItems))},handleAddNewTask=function handleAddNewTask(newItem){var newItems=[].concat(Object(toConsumableArray.a)(getOnlyTasks(items)),[newItem,void 0]);setItems(newItems),onChange(getOnlyTasks(newItems))};return react.createElement(lib_default.a,{items:items,getId:function getId(item){return item?item.id:"new"},renderItem:function renderItem(item){return item?react.createElement(src_EditableTask,{item:item,onChange:handleChangeTask,onDelete:handleDeleteTask}):react.createElement(src_AddNewTask,{onAdd:handleAddNewTask})},onReorder:function handleReorder(items){var newItems=getOnlyTasks(items);setItems([].concat(Object(toConsumableArray.a)(newItems),[void 0])),onChange(newItems)},getItemStyle:getItemStyle,getListStyle:getListStyle})}},271:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/DeleteIcon.3711010f.svg"},272:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/SaveIcon.990ed441.svg"},273:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/AddIcon.39da810c.svg"},282:function(module,exports,__webpack_require__){__webpack_require__(283),__webpack_require__(387),module.exports=__webpack_require__(388)},388:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(113);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){__webpack_require__(550)},module)}.call(this,__webpack_require__(128)(module))},550:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _src_EditableDndList__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(166),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(113),styles={container:{height:"90vh",margin:10,textAlign:"center"},pre:{margin:"auto",textAlign:"left",width:"fit-content"}},items=[{id:"1",text:"Text 1"},{id:"2",text:"Text 2"}],handleChange=function handleChange(id){return function(items){return document.getElementById(id).innerHTML=JSON.stringify(items,void 0,2)}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("EditableDndList",module).addParameters({options:{showPanel:!1}}).add("with empty list",function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:styles.container},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_EditableDndList__WEBPACK_IMPORTED_MODULE_0__.a,{onChange:handleChange("l1")}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null),"Items in list: ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("pre",{id:"l1",style:styles.pre}))}).add("with non empty list",function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:styles.container},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_EditableDndList__WEBPACK_IMPORTED_MODULE_0__.a,{items:items,onChange:handleChange("l2")}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null),"Items in list: ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("pre",{id:"l2",style:styles.pre}))})}.call(this,__webpack_require__(128)(module))}},[[282,1,2]]]);
//# sourceMappingURL=main.16df8b7ae1425729a308.bundle.js.map